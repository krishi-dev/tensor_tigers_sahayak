<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthy Food Catcher</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f8ff;
            font-family: 'Comic Sans MS', 'Chalkboard SE', 'Marker Felt', sans-serif;
        }
        canvas {
            border: 5px solid #006400;
            background-color: #87ceeb;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        // --- Game State and Configuration ---
        let score = 0;
        let lives = 3;
        let gameSpeed = 2;
        let gameStarted = false;
        let gameOver = false;
        // Player (Basket)
        const player = {
            x: canvas.width / 2 - 50,
            y: canvas.height - 70,
            width: 100,
            height: 60,
            color: '#8B4513' // SaddleBrown
        };
        // Food Items Array
        let foods = [];
        const foodSpawnInterval = 90; // Spawn food every 90 frames
        let frameCount = 0;
        // --- Food Definitions ---
        const foodTypes = [
            { name: 'Apple', type: 'healthy', draw: drawApple },
            { name: 'Broccoli', type: 'healthy', draw: drawBroccoli },
            { name: 'Carrot', type: 'healthy', draw: drawCarrot },
            { name: 'Banana', type: 'healthy', draw: drawBanana },
            { name: 'Pizza', type: 'junk', draw: drawPizza },
            { name: 'Donut', type: 'junk', draw: drawDonut },
            { name: 'Fries', type: 'junk', draw: drawFries },
            { name: 'Soda', type: 'junk', draw: drawSoda }
        ];
        // --- Drawing Functions ---
        function drawPlayer() {
            // Basket body
            ctx.fillStyle = player.color;
            ctx.fillRect(player.x, player.y + 10, player.width, player.height - 10);
            // Basket rim
            ctx.fillStyle = '#A0522D'; // Sienna
            ctx.fillRect(player.x - 5, player.y, player.width + 10, 15);
        }
        // Healthy Foods
        function drawApple(x, y, size) {
            ctx.fillStyle = '#DC143C'; // Crimson
            ctx.beginPath();
            ctx.arc(x, y, size / 2, 0, Math.PI * 2);
            ctx.fill();
            // Stem
            ctx.fillStyle = '#8B4513';
            ctx.fillRect(x - 2, y - size / 2 - 5, 4, 10);
        }
        function drawBroccoli(x, y, size) {
            // Stem
            ctx.fillStyle = '#90EE90'; // LightGreen
            ctx.fillRect(x - 5, y, 10, size / 1.5);
            // Florets
            ctx.fillStyle = '#006400'; // DarkGreen
            ctx.beginPath();
            ctx.arc(x, y - size / 4, size / 3, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(x - size / 4, y, size / 4, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(x + size / 4, y, size / 4, 0, Math.PI * 2);
            ctx.fill();
        }
        function drawCarrot(x, y, size) {
            // Body
            ctx.fillStyle = '#FFA500'; // Orange
            ctx.beginPath();
            ctx.moveTo(x, y + size / 2);
            ctx.lineTo(x - size / 4, y - size / 2);
            ctx.lineTo(x + size / 4, y - size / 2);
            ctx.closePath();
            ctx.fill();
            // Leaves
            ctx.fillStyle = '#228B22'; // ForestGreen
            ctx.fillRect(x - 6, y - size / 2 - 5, 4, 10);
            ctx.fillRect(x + 2, y - size / 2 - 5, 4, 10);
        }
        function drawBanana(x, y, size) {
            ctx.fillStyle = '#FFD700'; // Gold
            ctx.beginPath();
            ctx.arc(x, y + size/2, size/1.5, Math.PI * 1.2, Math.PI * 1.8);
            ctx.fill();
        }
        // Junk Foods
        function drawPizza(x, y, size) {
            // Crust
            ctx.fillStyle = '#DEB887'; // BurlyWood
            ctx.beginPath();
            ctx.moveTo(x, y - size / 2);
            ctx.arc(x, y - size / 2, size, Math.PI * 0.25, Math.PI * 0.75);
            ctx.closePath();
            ctx.fill();
            // Cheese
            ctx.fillStyle = '#FFD700'; // Gold
            ctx.beginPath();
            ctx.moveTo(x, y - size / 2);
            ctx.arc(x, y - size / 2, size * 0.9, Math.PI * 0.28, Math.PI * 0.72);
            ctx.closePath();
            ctx.fill();
            // Pepperoni
            ctx.fillStyle = '#B22222'; // Firebrick
            ctx.beginPath();
            ctx.arc(x, y, size * 0.1, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(x - size * 0.3, y + size * 0.1, size * 0.1, 0, Math.PI * 2);
            ctx.fill();
            ctx.beginPath();
            ctx.arc(x + size * 0.3, y + size * 0.1, size * 0.1, 0, Math.PI * 2);
            ctx.fill();
        }
        function drawDonut(x, y, size) {
            // Donut
            ctx.fillStyle = '#D2691E'; // Chocolate
            ctx.beginPath();
            ctx.arc(x, y, size / 2, 0, Math.PI * 2);
            ctx.fill();
            // Hole
            ctx.fillStyle = '#87ceeb'; // Background color
            ctx.beginPath();
            ctx.arc(x, y, size / 4, 0, Math.PI * 2);
            ctx.fill();
            // Icing
            ctx.fillStyle = '#FFC0CB'; // Pink
            ctx.beginPath();
            ctx.arc(x, y, size / 2 * 0.9, 0, Math.PI * 2);
            ctx.fill();
            // Hole again
            ctx.fillStyle = '#87ceeb'; // Background color
            ctx.beginPath();
            ctx.arc(x, y, size / 4, 0, Math.PI * 2);
            ctx.fill();
        }
        function drawFries(x, y, size) {
            // Container
            ctx.fillStyle = '#DC143C'; // Crimson
            ctx.beginPath();
            ctx.moveTo(x - size / 3, y + size / 2);
            ctx.lineTo(x - size / 4, y - size / 3);
            ctx.lineTo(x + size / 4, y - size / 3);
            ctx.lineTo(x + size / 3, y + size / 2);
            ctx.closePath();
            ctx.fill();
            // Fries
            ctx.fillStyle = '#FFD700'; // Gold
            ctx.fillRect(x - 10, y - size / 2, 5, 20);
            ctx.fillRect(x - 2, y - size / 2, 5, 25);
            ctx.fillRect(x + 5, y - size / 2, 5, 22);
        }
        function drawSoda(x, y, size) {
            // Can
            ctx.fillStyle = '#C0C0C0'; // Silver
            ctx.fillRect(x - size/3, y - size/2, size/1.5, size);
            // Label
            ctx.fillStyle = '#FF4500'; // OrangeRed
            ctx.fillRect(x - size/3, y - size/3, size/1.5, size/1.5);
            // Top rim
            ctx.fillStyle = '#A9A9A9'; // DarkGray
            ctx.fillRect(x - size/3, y - size/2, size/1.5, 5);
        }
        // --- Game Logic ---
        function spawnFood() {
            const foodSize = 40;
            const randomX = Math.random() * (canvas.width - foodSize);
            const randomFoodType = foodTypes[Math.floor(Math.random() * foodTypes.length)];
            foods.push({
                x: randomX,
                y: -foodSize,
                size: foodSize,
                speed: gameSpeed + Math.random(),
                type: randomFoodType.type,
                draw: randomFoodType.draw
            });
        }
        function updateFoods() {
            for (let i = foods.length - 1; i >= 0; i--) {
                const food = foods[i];
                food.y += food.speed;
                // Collision with player
                if (
                    food.y + food.size > player.y &&
                    food.x > player.x &&
                    food.x + food.size < player.x + player.width
                ) {
                    if (food.type === 'healthy') {
                        score += 10;
                        // Increase difficulty
                        if (score % 50 === 0 && score > 0) {
                            gameSpeed += 0.5;
                        }
                    } else {
                        lives -= 1;
                    }
                    foods.splice(i, 1); // Remove caught food
                }
                // Food missed
                else if (food.y > canvas.height) {
                    if (food.type === 'healthy') {
                        lives -= 1; // Penalty for missing healthy food
                    }
                    foods.splice(i, 1);
                }
            }
        }
        function drawUI() {
            ctx.fillStyle = 'black';
            ctx.font = '30px "Comic Sans MS"';
            ctx.textAlign = 'left';
            ctx.fillText(`Score: ${score}`, 20, 40);
            ctx.textAlign = 'right';
            ctx.fillText(`Lives: ${lives}`, canvas.width - 20, 40);
        }
        function drawStartScreen() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.6)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = 'white';
            ctx.textAlign = 'center';
            ctx.font = '50px "Comic Sans MS"';
            ctx.fillText('Healthy Food Catcher', canvas.width / 2, canvas.height / 2 - 100);
            ctx.font = '24px "Comic Sans MS"';
            ctx.fillText('Move your mouse to control the basket.', canvas.width / 2, canvas.height / 2);
            ctx.fillText('Catch the healthy foods and avoid the junk foods!', canvas.width / 2, canvas.height / 2 + 40);
            ctx.fillText('You lose a life if you catch junk food or miss a healthy one.', canvas.width / 2, canvas.height / 2 + 80);
            ctx.font = '30px "Comic Sans MS"';
            ctx.fillStyle = '#90EE90';
            ctx.fillText('Click to Start!', canvas.width / 2, canvas.height / 2 + 150);
        }
        function drawGameOverScreen() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = '#DC143C';
            ctx.textAlign = 'center';
            ctx.font = '60px "Comic Sans MS"';
            ctx.fillText('Game Over!', canvas.width / 2, canvas.height / 2 - 50);
            ctx.fillStyle = 'white';
            ctx.font = '30px "Comic Sans MS"';
            ctx.fillText(`Your Final Score: ${score}`, canvas.width / 2, canvas.height / 2 + 20);
            ctx.fillStyle = '#90EE90';
            ctx.font = '28px "Comic Sans MS"';
            ctx.fillText('Click to Play Again', canvas.width / 2, canvas.height / 2 + 100);
        }
        function resetGame() {
            score = 0;
            lives = 3;
            gameSpeed = 2;
            foods = [];
            gameOver = false;
            gameStarted = true;
            player.x = canvas.width / 2 - player.width / 2;
        }
        // --- Main Game Loop ---
        function gameLoop() {
            if (gameOver) {
                drawGameOverScreen();
                return;
            }
            // Clear canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            // Spawn new food
            frameCount++;
            if (frameCount >= foodSpawnInterval / (gameSpeed / 2)) {
                spawnFood();
                frameCount = 0;
            }
            // Update and draw
            drawPlayer();
            updateFoods();
            foods.forEach(food => food.draw(food.x, food.y, food.size));
            drawUI();
            // Check for game over condition
            if (lives <= 0) {
                gameOver = true;
            }
            requestAnimationFrame(gameLoop);
        }
        // --- Event Listeners ---
        // Mouse movement to control player
        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            let mouseX = e.clientX - rect.left;
            // Keep the basket within the canvas bounds
            if (mouseX < player.width / 2) {
                mouseX = player.width / 2;
            }
            if (mouseX > canvas.width - player.width / 2) {
                mouseX = canvas.width - player.width / 2;
            }
            player.x = mouseX - player.width / 2;
        });
        // Click to start or restart
        canvas.addEventListener('click', () => {
            if (!gameStarted) {
                gameStarted = true;
                gameLoop();
            } else if (gameOver) {
                resetGame();
                gameLoop();
            }
        });
        // --- Initial Draw ---
        drawStartScreen();
    </script>
</body>
</html>